{{# partial "titulo" }}
    <title>GeSoc - Entidades Juridicas</title>
{{/partial}}

{{# partial "contenido" }}
    <section >

    <div class="flex justify-between">
      <a href="/entidadesJuridicas/nueva" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-green-400 hover:bg-green-600 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">
        Agregar Entidad
      </a>

      <form action="/entidadesJuridicas" method="GET" class="w-2/4 flex justify-around">

        <div>
          <label for="nombreCategoria" class="block text-sm font-medium leading-5 text-gray-700">
            Filtrar por categoria
          </label>
          <div class="mt-1 flex rounded-md shadow-sm">
            <span class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm">
              Nombre:
            </span>
            <input type="text" name="filtro" id="nombreCategoria" class="form-input flex-1 block w-full rounded-none rounded-r-md transition duration-150 ease-in-out sm:text-sm sm:leading-5" placeholder="ingrese nombre de categoria" required>
          </div>
        </div>

        <div>
          <span class="inline-flex rounded-md shadow-sm">
            <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-blue-500 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out">
              Buscar
            </button>
          </span>
        </div>
      </form>
    </div>

    <div class="flex flex-col">
      <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
        <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
          <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">
            <table class="min-w-full divide-y divide-gray-200">
              <thead>
                <tr>
                  <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">
                    Nombre
                  </th>
                  <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">
                    Categoria
                  </th>
                  <th class="px-6 py-3 bg-gray-50"></th>
                </tr>
              </thead>
              <tbody class="bg-white divide-y divide-gray-200">
              {{#entidadesJuridicas}}
                <tr>
                  <td class="px-6 py-4 whitespace-no-wrap">
                    <div class="flex items-center">
                      <div class="ml-4">
                        <div class="text-sm leading-5 font-medium text-gray-900">
                          {{nombreFicticio}}
                        </div>
                        <div class="text-sm leading-5 text-gray-500">
                          Entidad Juridica
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-no-wrap">
                    <div class="text-sm leading-5 text-gray-900">{{#if categoria}} {{#categoria}}{{nombreCategoria}}{{/categoria}} {{else}} No tiene Categoria {{/if}}</div>
                    <div class="text-sm leading-5 text-gray-500">Categoria</div>
                  </td>
                  <td class="px-6 py-4 whitespace-no-wrap text-center text-sm leading-5 font-medium">
                   {{#unless categoria}}
                    <a href="/entidadesJuridicas/{{id}}/asociarCategoria" class="text-green-400 hover:text-indigo-900"> Asociar Categoria </a>
                    <span> - </span>
                   {{/unless}}
                    <a href="/entidadesJuridicas/{{id}}" class="text-indigo-600 hover:text-indigo-900"> Ver Detalles </a>
                  </td>
                </tr>
              {{/entidadesJuridicas}}

                <!-- More rows... -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    </section>
{{/partial}}

{{> layout.html.hbs }}